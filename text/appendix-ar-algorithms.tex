%\begin{savequote}[8cm]
%\textlatin{Cor animalium, fundamentum e\longs t vitÃ¦, princeps omnium, Microco\longs mi Sol, a quo omnis vegetatio dependet, vigor omnis \& robur emanat.}
%
%The heart of animals is the foundation of their life, the sovereign of everything within them, the sun of their microcosm, that upon which all growth depends, from which all power proceeds.
%  \qauthor{--- William Harvey \cite{harvey_exercitatio_1628}}
%\end{savequote}

\chapter{\label{app:ar-algs}Boltzmann Search With Average Returns}

\todo{Currently a pasting ground for currting average returns }




\subsection{AR-BTS} 
\label{app:arbts}

    \todo{This is original writing for AR-BTS}

    This search policy can still be used with average returns. The following is a summary of the definitions for \textit{Boltzmann Tree Search with Average Returns} (AR-BTS), which uses the value estimates of $\Varbts$ and $\Qarbts$ at each node, and temperature schedule $\alphaarbts(x) > 0$:
    %
    \begin{align}
        \piarbts(a|s) &= (1-\lambdaarbts)\rhoarbts(a|s) + \frac{\lambdaarbts}{|\cl{A}|}, 
                    \label{eq:arbts_search_policy} \\ 
        \rhobts(a|s) &\propto \exp\left(\frac{1}{\alphaarbts(N(s))}\left(\Qarbts(s,a)\right)\right).
                    \label{eq:arbts_value_policy}
    \end{align}
    %
    where $\epsarbts \in (0,\infty)$ is an exploration parameter and $\alphaarbts(x)$ is the search temperature schedule. Given a trajectory $\tau=(s_0,a_0,r_0,...,s_{h-1},a_{h-1},r_{h-1},s_h)$ and the leaf node value estimate $\tilde{r} = \Vinit(s_h)$, the value estimates are updated for $t=h-1,...,0$:
    \begin{align}
        \Qarbts(s_t,a_t) &\leftarrow 
            \frac{1}{N(s_t,a_t)} \left( (N(s_t,a_t)-1) \Qarbts(s_t,a_t) 
                + \tilde{r} + \sum_{i=t}^{h-1} r_i \right) \label{eq:4:arbts_backup_q} \\
        \Varbts(s_t) &\leftarrow 
            \frac{1}{N(s_t)} \left( (N(s_t)-1) \Varbts(s_t) 
                + \tilde{r} + \sum_{i=t}^{h-1} r_i \right). \label{eq:4:arbsts_backup_v} 
    \end{align}

    Similarly to BTS, either the Q-value estimates can be used for a recommendation policy or the most visited child node can be used:
    \begin{align}
        \psiarbts(s) &= \argmax_{a\in\cl{A}}\Qbts(s,a), \\
        \mvarbts(s) &= \argmax_{a\in\cl{A}} N(s,a).
    \end{align}


\subsection{AR-DENTS}
\label{app:ardents}


\subsection{MENTS, RENTS and TENTS with Average Returns} 
\label{app:arments}

    \todo{Its DENTS, with alpha \= beta \= const, and different entropy functions.}

